{"version":3,"sources":["components/App.js","index.js"],"names":["App","state","location","temp","desc","icon","feelsLike","humidity","wind","sunrise","sunset","handleSubmit","e","preventDefault","city","target","value","api","fetchData","err","console","log","message","fetch","then","response","ok","json","setState","Error","data","celcius","parseInt","main","name","weather","feels_like","speed","catch","error","long","lat","apiKey","navigator","geolocation","getCurrentPosition","position","coords","longitude","latitude","this","className","src","alt","onSubmit","type","placeholder","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0OA2HeA,G,kNAvHZC,MAAQ,CACLC,SAAU,GACVC,KAAM,EACNC,KAAM,GACNC,KAAM,MACNC,UAAW,EACXC,SAAU,GACVC,KAAM,GACNC,QAAS,GACTC,OAAQ,I,EAuBXC,aAAe,SAACC,GACbA,EAAEC,iBACF,IAAIC,EAAOF,EAAEG,OAAOD,KAAKE,MAEnBC,EAAG,2DAAuDH,EAAvD,kBADM,oCAGf,IACG,EAAKI,UAAUD,GAElB,MAAME,GACHC,QAAQC,IAAIF,EAAIG,W,EAItBJ,UAAY,SAACD,GACVM,MAAMN,GACFO,MAAK,SAAAC,GACH,GAAGA,EAASC,GACT,OAAOD,EAASE,OAGhB,MADA,EAAKC,SAAS,CAAC1B,SAAU,4BACnB,IAAI2B,MAAM,uBAGrBL,MAAK,SAAAM,GACH,IAAIC,EAAUC,SAASF,EAAKG,KAAK9B,KAAO,KACxC,EAAKyB,SAAS,CACXzB,KAAM4B,EACN7B,SAAU4B,EAAKI,KACf9B,KAAM0B,EAAKK,QAAQ,GAAGF,KACtB5B,KAAMyB,EAAKK,QAAQ,GAAG9B,KACtBC,UAAW0B,SAASF,EAAKG,KAAKG,WAAa,KAC3C7B,SAAUuB,EAAKG,KAAK1B,SACpBC,KAAMwB,SAA2B,MAAlBF,EAAKtB,KAAK6B,YAG9BC,OAAM,SAACC,GACLnB,QAAQC,IAAIkB,O,kEAzDA,IACdC,EACAC,EAFa,OAGXC,EAAS,mCAEf,GAAGC,UAAUC,YACVD,UAAUC,YAAYC,oBAAmB,SAAAC,GACtCN,EAAOM,EAASC,OAAOC,UACvBP,EAAMK,EAASC,OAAOE,SACtB,IAAMhC,EAAG,6DAAyDwB,EAAzD,gBAAoED,EAApE,kBAAkFE,GAE3F,EAAKxB,UAAUD,UAGhB,CACF,IAAMA,EAAG,wEAAoEyB,GAC7EQ,KAAKhC,UAAUD,M,+BA8ClB,OACG,yBAAKkC,UAAU,OAEZ,yBAAKA,UAAU,QACZ,wBAAIA,UAAU,YAAYD,KAAKjD,MAAMC,UACrC,yBAAKiD,UAAU,eAAeD,KAAKjD,MAAMG,MACzC,yBAAK+C,UAAU,UACZ,wBAAIA,UAAU,iBACVD,KAAKjD,MAAME,MAEf,oCAEH,yBAAKgD,UAAU,QACT,yBAAKC,IAAG,2CAAsCF,KAAKjD,MAAMI,KAAjD,WAAgEgD,IAAKH,KAAKjD,MAAMG,SAIjG,yBAAK+C,UAAU,WACZ,yBAAKA,UAAU,cAAf,cACeD,KAAKjD,MAAMK,UAD1B,KAGA,yBAAK6C,UAAU,YAAf,YACaD,KAAKjD,MAAMM,SADxB,KAGA,yBAAK4C,UAAU,QAAf,QACSD,KAAKjD,MAAMO,KADpB,SAKH,yBAAK2C,UAAU,mBACZ,0BAAMG,SAAUJ,KAAKvC,cAClB,2BACG4C,KAAK,OACLrB,KAAK,OACLsB,YAAY,oBAEf,0D,GA/GAC,IAAMC,YCExBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.da504e2d.chunk.js","sourcesContent":["import React from 'react'\nimport '../App.css'\n\nclass App extends React.Component {\n   state = {\n      location: '',\n      temp: 0,\n      desc: '',\n      icon: '10d',\n      feelsLike: 0,\n      humidity: '',\n      wind: '',\n      sunrise: '',\n      sunset: ''\n   }\n\n   componentDidMount() {\n      let long;\n      let lat;\n      const apiKey = '1b230525f086dcd9fd52e0de394b4545';\n\n      if(navigator.geolocation){\n         navigator.geolocation.getCurrentPosition(position => {\n            long = position.coords.longitude;\n            lat = position.coords.latitude;\n            const api = `http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&appid=${apiKey}`\n\n            this.fetchData(api);\n         })\n      } \n      else {\n         const api = `http://api.openweathermap.org/data/2.5/weather?q=london&appid=${apiKey}`\n         this.fetchData(api)\n      }\n   }\n\n   handleSubmit = (e) => {\n      e.preventDefault();\n      let city = e.target.city.value;\n      const apiKey = '1b230525f086dcd9fd52e0de394b4545';\n      const api = `http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`;\n\n      try {\n         this.fetchData(api);\n      }\n      catch(err) {\n         console.log(err.message);\n      }\n   }\n\n   fetchData = (api) => {\n      fetch(api)\n         .then(response =>{\n            if(response.ok){\n               return response.json();\n            } else {\n               this.setState({location: 'Enter a valid city name'})\n               throw new Error('Not a valid city')\n            }\n         })\n         .then(data =>{\n            let celcius = parseInt(data.main.temp - 273)\n            this.setState({\n               temp: celcius,\n               location: data.name,\n               desc: data.weather[0].main,\n               icon: data.weather[0].icon,\n               feelsLike: parseInt(data.main.feels_like - 273),\n               humidity: data.main.humidity,\n               wind: parseInt(data.wind.speed * 2.237)\n            })\n         })\n         .catch((error) => {\n            console.log(error)\n         })\n   }\n\n   render(){\n      return (\n         <div className=\"App\">\n\n            <div className=\"head\">\n               <h1 className=\"location\">{this.state.location}</h1>\n               <div className=\"description\">{this.state.desc}</div>\n               <div className=\"degree\">\n                  <h2 className=\"degree-number\">\n                     {this.state.temp}\n                  </h2>\n                  <span>C</span>\n               </div>\n               <div className=\"icon\">\n                     <img src={`http://openweathermap.org/img/wn/${this.state.icon}@2x.png`} alt={this.state.desc} />\n               </div>\n            </div>\n\n            <div className=\"details\">\n               <div className=\"feels-like\">\n                  Feels like {this.state.feelsLike}C\n               </div>\n               <div className=\"humidity\">\n                  Humidity {this.state.humidity}%\n               </div>\n               <div className=\"wind\">\n                  Wind {this.state.wind} mph\n               </div>\n            </div>\n\n            <div className=\"change-location\">\n               <form onSubmit={this.handleSubmit}>\n                  <input \n                     type=\"text\"\n                     name=\"city\"\n                     placeholder=\"Enter city name\"\n                  />\n                  <button>Change location</button>\n               </form>\n            </div>\n\n         </div>\n      )\n   }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}